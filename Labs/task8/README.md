# Настройка EIGRP в офисе Санкт-Петербург

## Цель
- Настроить EIGRP используя **EIGRP Named-mode** в офисе Санкт-Петербург.   
- Обеспечить, чтобы:
  - **R32** получал только маршрут по умолчанию.  
  - **R16 и R17** анонсировали только **суммарные префиксы**.  

---

## Топология сети

![На изображении схема лаборатной сети](/Labs/task8/pictures/schema.JPG) 


---

## Особенности конфигурации

### R16

| Интерфейс |	Назначение       | IP-адрес      | Маска           |
|-----------|------------------|---------------|-----------------|
| Loopback0 |	Локальный        | 10.128.0.16   | 255.255.255.255 |
| E0/0.80	  | VLAN 80 Clients  | 192.168.80.3  | 255.255.255.0   |
| E0/0.100  |	VLAN 100 Clients | 192.168.100.3 | 255.255.255.0   |
| E0/0.199  |	Management       | 192.168.199.3 | 255.255.255.0   |
| E0/1	    | R16 - R18	       | 172.20.11.2   | 255.255.255.252 |
| E0/2	    | R16 - R17	       | 172.20.11.14  | 255.255.255.252 |
| E0/3	    | R16 - R32	       | 172.20.11.9   | 255.255.255.252 |

Выполняем настройку конфигурации eigrp на маршрутизаторе **R16**

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/run_eigrp_R16.JPG)

Прописываем статическую маршрутизацию по умолчанию в Null0:

```bash
ip route 0.0.0.0 0.0.0.0 Null0
```

- На интерфейсе, подключенном к **R32**, настроен summary-address *0.0.0.0/0*, чтобы **R32** получал только маршрут по умолчанию.
- Суммаризация VLAN и маршрутов к другим роутерам (**R16**, **R17**) позволяет соседним маршрутизаторам видеть только агрегированные префиксы.
- EIGRP работает в named-mode для IPv4 и IPv6 

### R17

| Интерфейс |	Назначение	     | IP-адрес      | Маска           |
|-----------|------------------|---------------|-----------------|
| Loopback0 |	Локальный        | 10.128.0.17   | 255.255.255.255 |
| E0/0.80   |	VLAN 80 Clients  | 192.168.80.2  | 255.255.255.0   |
| E0/0.100  |	VLAN 100 Clients | 192.168.100.2 | 255.255.255.0   |
| E0/0.199  |	Management       | 192.168.199.2 | 255.255.255.0   |
| E0/1	    | R17 - R18        | 172.20.11.6   | 255.255.255.252 |
| E0/2	    | R17 - R16        | 172.20.11.13  | 255.255.255.252 |

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/run_eigrp_R17.JPG)

- На **R17** анонсирует только суммарные префиксы по VLAN и линкам.
- Default-route не анонсируется, так как это задача **R16**.
- EIGRP работает в named-mode для IPv4 и IPv6

### R18

| Интерфейс |	Назначение |	IP-адрес    | Маска           |
|-----------|------------|--------------|-----------------|
| Loopback0 |	Локальный  |	10.128.0.18 | 255.255.255.255 |
| E0/0      |	R18 - R16  |	172.20.11.1 | 255.255.255.252 |
| E0/1      |	R18 - R17  |	172.20.11.5 | 255.255.255.252 |

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/run_eigrp_R18.JPG)

- **R18** получает от **R16** и **R17** только суммарные маршруты и маршрут по умолчанию.
- **R18** не распространяет маршрут по умолчанию дальше.
- EIGRP работает в named-mode для IPv4 и IPv6.

### R32

| Интерфейс |	Назначение |	IP-адрес     | Маска           |
|-----------|------------|---------------|-----------------|
| Loopback0 |	Локальный  |	10.128.0.32  | 255.255.255.255 |
| E0/0      |	R32 - R16  |	172.20.11.10 | 255.255.255.252 |

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/run_eigrp_R32.JPG)

- **R32** получает только маршрут по умолчанию от **R16**.
- Не получает анонсы VLAN или других подсетей.
- EIGRP используется в named-mode для IPv4 и IPv6.

---

## Проверка работы

### Проверяем соседства:

 ```bash
show ip eigrp neighbors
 ```

 **R16**

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/eigrp_neighbors_R16.JPG)

**R17**

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/eigrp_neighbors_R17.JPG)

**R18**

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/eigrp_neighbors_R18.JPG)

**R32**

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/eigrp_neighbors_R32.JPG)

### Проверяем таблицу маршрутизации на примере R16 и R17:

```bash
show ip route eigrp
```

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/ip_route_eigrp_R16.JPG)

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/ip_route_eigrp_R17.JPG)

В данных талицах видим что **R16** и ***R17** имеют суммарные маршруты, а не подробные сети VLAN.

У  R32 видим только маршрут "0.0.0.0/0" через **R16** по EIGRP.

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/ip_route_R32.JPG)

### Проверяем доступность C VPC8 на Loopback0 R18:

![На изображении конфигурация лаборатной сети](/Labs/task8/pictures/ping_VPC8.JPG)

---

## Выводы
- В офисе Санкт-Петербург EIGRP успешно настроен в **named-mode**.
- **R16 и R17** анонсируют только суммарные маршруты.
- **R32** получает только default route.
- Конфигурация готова для расширения под IPv6.

Файлы конфигурации оборудования приведены [здесь](/Labs/task8/config/).